{"version":3,"sources":["matrix.js","square.js","board.js","game.js","index.js","logo.png"],"names":["setMatrix","matrix","v","x","y","i","arguments","length","matrixAt","getRandomNum","max","compareTo","index","Math","floor","random","num","move","action","score_","matrix_","slice","contents","curr_v","push","full","isFull","canMove","matrix1","matrix2","isEqual","win_","win2048","win4096","win","fontSize_","window","innerWidth","Square","props","name","value","react_default","a","createElement","className","style","background","color","box-shadow","font-size","marginLeft_number","marginLeft_","parseInt","ScoreBoard","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","display_","score","React","Component","Board2048","setState","marginLeft","OverlayTrigger","key","placement","overlay","Tooltip","id","concat","restartButton","class","renderSquare","board_ScoreBoard","map","38","87","39","68","40","83","37","65","start","tsX","tsY","Game","restart","Array","fill","_onKeyDown","bind","assertThisInitialized","_onTouchStart","_onTouchMove","_onTouchEnd","swiping","e","touches","clientY","clientX","diffX","changedTouches","diffY","abs","selectAction","result","event","which","res1","res2","tabIndex","onKeyDown","onTouchStart","onTouchMove","onTouchEnd","board_Board2048","onClick","RouterBar","react_router_dom","Navbar","bg","variant","Brand","href","width","height","src","require","Nav","Link","Form","inline","FormControl","type","placeholder","Button","react_router","exact","path","component","App","game_Game","__webpack_require__","d","__webpack_exports__","ReactDOM","render","document","getElementById","module","exports","p"],"mappings":"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","file":"static/js/main.54c5bd79.chunk.js","sourcesContent":["export function setMatrix(matrix, v, x, y) {\n    var i = x;\n    if (arguments.length === 4) i = i*4 + y;\n    matrix[i] = v;\n}\n\nexport function matrixAt(matrix, x, y) {\n    var i = x;\n    if (arguments.length === 3) i = i*4 + y;\n    return matrix[i];\n}\n\nexport function getRandomNum(matrix, max, compareTo) {\n    var index=Math.floor(Math.random() * max);\n    while (compareTo && index === compareTo) {\n        index=Math.floor(Math.random() * max);\n    }\n    while (matrix[index]) {\n        index = index > 15 ? 0 : index + 1;\n    }\n    // 2 or 4 here\n    var num = Math.floor(Math.random() * 10);\n    num = num > 8 ? 4 : 2;\n    return {num, index};\n}\n\nexport function isFull(matrix) {\n    for (var i = 0; i < 16; i++) {\n        if (matrix[i] === 0) return false;\n    }\n    return true;\n}\n\nexport function win(matrix) {\n  var win2048 = false, win4096 = false;\n  for (var i = 0; i < 16; i++) {\n    if (matrix[i] === 2048) win2048 = true;\n    if (matrix[i] === 4096) win4096 = true;\n  }\n  return {win2048, win4096};\n}\n\nexport function isEqual(matrix1, matrix2) {\n    if (matrix1.length !== matrix2.length) return true;\n    for (var i = 0; i < matrix1.length; i++) {\n        if (matrix1[i] !== matrix2[i]) return true;\n    }\n    return false;\n}\n\nexport function selectAction(e, tsX, tsY) {\n  var action = 0;\n    var diffX = e.changedTouches[0].clientX - tsX;\n    var diffY = e.changedTouches[0].clientY - tsY;\n    var AbsX = Math.abs(diffX);\n    var AbsY = Math.abs(diffY);\n    if (AbsX > AbsY) {\n      if (diffX < 0) action = 3;\n      else action = 1;\n    } else {\n      if (diffY < 0) action = 0;\n      else action = 2;\n    }\n    return action;\n}\n\nexport function move(matrix, action, score_) {\n    const matrix_ = matrix.slice();\n\n    if (action === 0) { // up\n      for (var y = 0; y < 4; y++) {\n        var contents = [];\n        for (var x = 0; x < 4; x++) {\n          var curr_v = matrixAt(matrix_, x, y);\n          if (curr_v) {\n            contents.push(curr_v);\n            setMatrix(matrix_, 0, x, y);\n          }\n        }\n        for (var i = 0, x = 0; i < contents.length; i++) {\n          if (i < contents.length - 1 && contents[i] === contents[i+1]) {\n            contents[i] *= 2;\n            contents[i+1] = 0;\n            score_ += contents[i];\n          }\n          if (contents[i]) {\n            setMatrix(matrix_, contents[i], x, y);\n            x++;\n          }\n        } \n      }\n    } else if (action === 1) { // right\n      for (var x = 3; x >= 0; x--) {\n        var contents = [];\n        for (var y = 3; y >= 0; y--) {\n          var curr_v = matrixAt(matrix_, x, y);\n          if (curr_v) {\n            contents.push(curr_v);\n            setMatrix(matrix_, 0, x, y);\n          }\n        }\n        for (var i = 0, y = 3; i < contents.length; i++) {\n          if (i < contents.length - 1 && contents[i] === contents[i+1]) {\n            contents[i] *= 2;\n            contents[i+1] = 0;\n            score_ += contents[i];\n          }\n          if (contents[i]) {\n            setMatrix(matrix_, contents[i], x, y);\n            y--;\n          }\n        } \n      }\n    } else if (action === 2) { // down \n      for (var y = 3; y >= 0; y--) {\n        var contents = [];\n        for (var x = 3; x >= 0; x--) {\n          var curr_v = matrixAt(matrix_, x, y);\n          if (curr_v) {\n            contents.push(curr_v);\n            setMatrix(matrix_, 0, x, y);\n          }\n        }\n        for (var i = 0, x = 3; i < contents.length; i++) {\n          if (i < contents.length - 1 && contents[i] === contents[i+1]) {\n            contents[i] *= 2;\n            contents[i+1] = 0;\n            score_ += contents[i];\n          }\n          if (contents[i]) {\n            setMatrix(matrix_, contents[i], x, y);\n            x--;\n          }\n        } \n      }\n    } else if (action === 3) { // left\n      for (var x = 0; x < 4; x++) {\n        var contents = [];\n        for (var y = 0; y < 4; y++) {\n          var curr_v = matrixAt(matrix_, x, y);\n          if (curr_v) {\n            contents.push(curr_v);\n            setMatrix(matrix_, 0, x, y);\n          }\n        }\n        for (var i = 0, y = 0; i < contents.length; i++) {\n          if (i < contents.length - 1 && contents[i] === contents[i+1]) {\n            contents[i] *= 2;\n            contents[i+1] = 0;\n            score_ += contents[i];\n          }\n          if (contents[i]) {\n            setMatrix(matrix_, contents[i], x, y);\n            y++;\n          }\n        } \n      }\n    }\n\n    var full = isFull(matrix_);\n    var canMove = isEqual(matrix, matrix_);\n    var win_ = win(matrix_);\n    var win2048 = win_.win2048, win4096 = win_.win4096;\n\n    return {matrix_, score_, full, canMove, win2048, win4096};\n}\n","import React from 'react';\n\nvar fontSize_ = (window.innerWidth <= 520) ? '25px' : '36px';\n\nexport function Square(props) { // active or not \n  const name=(props.value) ? \"active-square\" : \"square\";\n  function color(value) { \n    switch (value) {\n      case 2    : return {background: '#eee4da'};\n      case 4    : return {background: '#ede0c8'};\n      case 8    : return {background: '#f2b179'};\n      case 16   : return {background: '#f59563', color: '#f9f6f2'};\n      case 32   : return {background: '#f67c5f', color: '#f9f6f2'};\n      case 64   : return {background: '#f65e3b', color: '#f9f6f2'};\n      case 128  : return {background: '#edcf72', color: '#f9f6f2'};\n      case 256  : return {background: '#edcc61', color: '#f9f6f2'};\n      case 512  : return {background: '#edc850', color: '#f9f6f2', 'box-shadow': '0 0 30px 10px rgba(243, 215, 116, 0.2381), inset 0 0 0 1px rgba(255, 255, 255, 0.14286)' };\n      case 1024 : return {background: '#edc53f', color: '#f9f6f2', 'font-size': fontSize_, 'box-shadow': '0 0 30px 10px rgba(243, 215, 116, 0.31746), inset 0 0 0 1px rgba(255, 255, 255, 0.19048)'};\n      case 2048 : return {background: '#edc22e', color: '#f9f6f2', 'font-size': fontSize_};\n      case 4096 : return {background: '#edc850', color: '#f9f6f2', 'font-size': fontSize_};\n    }\n  }\n  return (\n    <div className={name} style={color(props.value)}>\n      <div className=\"number\">\n        {(props.value) ? props.value : null}\n      </div>\n    </div>\n  );\n}","import React from 'react';\nimport { OverlayTrigger, Tooltip } from 'react-bootstrap';\nimport {matrixAt} from './matrix.js';\nimport {Square} from './square.js'\nimport './index.css'\n\nvar display_ = 'none';\nvar marginLeft_number = (window.innerWidth <= 520) ? \n                        Math.floor((window.innerWidth - 275)/2) : \n                        Math.floor(window.innerWidth - 415)/2;\nvar marginLeft_ = parseInt(marginLeft_number) + 'px';\n\nclass ScoreBoard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state={\n      display_ : 'none',\n    };\n  }\n  render() {\n    return (\n      <div className=\"score-board\">\n        {(this.props.canMove) ? ('SCORE\\n' + this.props.score) : 'Cannot Move!'}\n      </div>\n    );\n  }\n}\n\nexport default class Board2048 extends React.Component {\n  renderSquare(i) {\n    return (\n      <Square value={matrixAt(this.props.matrix, i)}/>\n    );\n  }\n\n  _displayHowToPlay() {\n    display_ = 'block';\n    this.setState({display_: 'block'});\n  }\n  _notDisplayHowToPlay() {\n    display_ = 'none';\n    this.setState({display_: 'none'});\n  }\n\n  render() {\n    return (\n      <div className=\"gameContainer\" style={{marginLeft: marginLeft_}}>\n          <div className=\"header\">\n            <text className=\"text2048\">2 0 4 8</text>\n            {/* <a \n              className=\"howToPlay\" \n              onMouseOver={this._displayHowToPlay.bind(this)}\n              onMouseOut={this._notDisplayHowToPlay.bind(this)}\n              onTouchStart={this._displayHowToPlay.bind(this)}\n              onTouchEnd={this._notDisplayHowToPlay.bind(this)}\n            >\n              How to Play\n            </a>\n\n            <div style={{display: display_}}>\n              💻 <strong>Computer Users</strong> can use key \n                <strong> 'w,a,s,d' or 'arrow keys'</strong> to move the tiles.<br/>\n              📱 <strong>Mobile Users</strong> can <strong>swipe the screen</strong> to move the tiles.\n            </div> */}\n            <OverlayTrigger\n              key=\"bottom\"\n              placement=\"bottom\"\n              overlay={\n                <Tooltip id={`tooltip-${\"bottom\"}`}>\n                  💻 <strong>Computer Users</strong> can use key \n                    <strong> 'w,a,s,d' or 'arrow keys'</strong> to move the tiles.<br/>\n                  📱 <strong>Mobile Users</strong> can <strong>swipe the screen</strong> to move the tiles.\n                </Tooltip>\n              }\n            >\n              <a className=\"howToPlay\" >\n                How to Play\n              </a>\n            </OverlayTrigger>\n          </div>\n          {this.props.restartButton}\n          <div className=\"buttonContainer\">\n              <p class=\"game-intro\">Join the numbers and get to the <strong>2048 tile!</strong></p>\n          </div>\n          \n\n          <div id=\"fixed\" className=\"board\" >\n              <div className=\"board-row\">\n                  {this.renderSquare(0)}\n                  {this.renderSquare(1)}\n                  {this.renderSquare(2)}\n                  {this.renderSquare(3)}\n              </div>\n              <div className=\"board-row\">\n                  {this.renderSquare(4)}\n                  {this.renderSquare(5)}\n                  {this.renderSquare(6)}\n                  {this.renderSquare(7)}\n              </div>\n              <div className=\"board-row\">\n                  {this.renderSquare(8)}\n                  {this.renderSquare(9)}\n                  {this.renderSquare(10)}\n                  {this.renderSquare(11)}\n              </div>\n              <div className=\"board-row\">\n                  {this.renderSquare(12)}\n                  {this.renderSquare(13)}\n                  {this.renderSquare(14)}\n                  {this.renderSquare(15)}\n              </div>\n              <ScoreBoard \n                  score={this.props.score} \n                  full={this.props.full} \n                  canMove={this.props.canMove}\n                  win2048={this.props.win2048}\n                  win4096={this.props.win4096}\n              />\n          </div>\n      </div>\n    )\n  }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Board2048 from './board.js';\nimport {\n  setMatrix, \n  getRandomNum, \n  move, \n  selectAction,\n} from './matrix.js';\nimport './index.css';\n\nvar map = {\n  38: 0, // Up\n  87: 0, // Up\n  39: 1, // Right\n  68: 1, // Right\n  40: 2, // Down\n  83: 2, // Down\n  37: 3, // Left\n  65: 3, // Left\n};\n\nvar start = true;\nvar tsX = 0;\nvar tsY = 0;\n\nexport default class Game extends React.Component {\n  constructor(props) {\n    super(props);\n    this._onKeyDown = this._onKeyDown.bind(this);\n    this._onTouchStart = this._onTouchStart.bind(this);\n    this._onTouchMove = this._onTouchMove.bind(this);\n    this._onTouchEnd = this._onTouchEnd.bind(this);\n    this.swiping = false;\n\n    this.state = {\n      matrix  : Array(16).fill(0), \n      score   : 0,\n      canMove : true,\n      full    : false,\n      win2048 : false,\n      win4096 : false,\n    };\n  }\n\n  _onTouchStart(e) {\n    tsY = e.touches[0].clientY;\n    tsX = e.touches[0].clientX;\n  }\n\n  _onTouchMove(e) {\n    this.swiping = true;\n  }\n\n  _onTouchEnd(e) {\n    if (!this.swiping) return;\n    const action = selectAction(e, tsX, tsY);\n    const matrix_ = this.state.matrix.slice();\n    var score_ = this.state.score;\n    const result = move(matrix_, action, score_);\n\n    this.swiping = false;\n    this.setState({\n      canMove : result.canMove, \n      matrix  : result.matrix_, \n      score   : result.score_,\n      full    : result.full,\n      win2048 : result.win2048,\n      win4096 : result.win4096,\n    });\n  }\n\n  _onKeyDown(event) {\n    const action = map[event.which];\n    const matrix_ = this.state.matrix.slice();\n    var score_ = this.state.score;\n    const result = move(matrix_, action, score_);\n    this.setState({\n      canMove : result.canMove, \n      matrix  : result.matrix_, \n      score   : result.score_,\n      full    : result.full,\n      win2048 : result.win2048,\n      win4096 : result.win4096,\n    });\n  }\n\n  restart = () => {\n    this.setState({\n      matrix  : Array(16).fill(0),\n      score   : 0,\n      canMove : true,\n      full    : false,\n      win2048 : false,\n      win4096 : false,\n    }); \n    start = true;\n  };\n\n  render() {\n    // check whether the matrix is full\n    if (!this.state.full && this.state.canMove) {\n      // generate number from 0-15\n      var res1 = getRandomNum(this.state.matrix, 16, null);\n      setMatrix(this.state.matrix, res1.num, res1.index);\n      if (start) {\n        start = false;\n        var res2 = getRandomNum(this.state.matrix, 16, res1.index);\n        setMatrix(this.state.matrix, res2.num, res2.index);\n      }\n    } \n    \n    return (\n      <div \n        tabIndex=\"0\"\n        onKeyDown={this._onKeyDown} \n        onTouchStart={this._onTouchStart}\n        onTouchMove={this._onTouchMove}\n        onTouchEnd={this._onTouchEnd}\n      >\n        <Board2048 \n          matrix={this.state.matrix} \n          score={this.state.score} \n          full={this.state.full} \n          canMove={this.state.canMove}\n          win2048={this.state.win2048}\n          win4096={this.state.win4096}\n          restartButton={\n            <a \n              className=\"restart-button\"\n              onClick={this.restart}\n            > \n              New Game\n            </a>\n          }\n        />\n      </div>\n    );\n  };\n}\n\n// ========================================\n\n","import ReactDOM from 'react-dom';\nimport React from 'react'\nimport Game from './game.js'\nimport { Nav, Navbar, Form, FormControl, Button } from 'react-bootstrap';\nimport { Route, BrowserRouter as Router } from 'react-router-dom'\nimport './index.css'\n\nfunction RouterBar(props) {\n  return (\n    <Router >\n      <div >\n        <Navbar bg=\"light\" variant=\"light\" >\n          <Navbar.Brand href=\"https://ruihuasui.github.io/react-forms/\">\n            <img width=\"30\" height=\"30\" src={require('./logo.png')}/>\n            {' '}AirApp\n          </Navbar.Brand>\n          <Nav className=\"mr-auto\">\n            <Nav.Link href=\"https://ruihuasui.github.io/react-gobang/\">Gobang</Nav.Link>\n            <Nav.Link href=\"/react-simple2048/\">Simple 2048</Nav.Link>\n          </Nav>\n          <Form inline>\n            <FormControl type=\"text\" placeholder=\"Search\" className=\"mr-sm-2\" />\n            <Button variant=\"outline-info\">Search</Button>\n          </Form>\n        </Navbar>\n        <Route exact path=\"/react-simple2048/\" component={Game} />\n      </div>\n    </Router>\n  )\n}\n\nexport default function App() {\n  return (\n    <div>\n      <RouterBar />\n      <Game />\n    </div>\n  )\n}\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n\n","module.exports = __webpack_public_path__ + \"static/media/logo.3699bae0.png\";"],"sourceRoot":""}